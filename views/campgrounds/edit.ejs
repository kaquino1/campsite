<% layout('layouts/boilerplate') %>
<div class='wrapper my-5'>
<div class='row justify-content-center'>

  <div class='col-12 col-md-8 col-xl-6'>

    <h4 class='text-centered'>Edit Campground</h4>

    <form action='/campgrounds/<%=campground._id%>?_method=PUT' method='POST' novalidate class='needs-validation mb-5' enctype='multipart/form-data'>

      <div class='mb-3'>
        <label class='form-label' for='title'>Title</label>
        <input class='form-control' type='text' name='campground[title]' id='title' value='<%=campground.title%>' required>
        <div class='valid-feedback'>
          Looks good!
        </div>
      </div>

      <div class='mb-3'>
        <label class='form-label' for='location'>Location</label>
        <input class='form-control' type='text' name='campground[location]' id='title' value='<%=campground.location%>' required>
        <div class='valid-feedback'>
          Looks good!
        </div>
      </div>

      <div class='mb-3'>
        <label class='form-label' for='price'>Campground Price</label>
        <div class='input-group'>
          <span class='input-group-text' id='price-label'>$</span>
          <input type='text' class='form-control' placeholder='0.00' name='campground[price]' id='price'
            aria-describedby='price-label' value='<%=campground.price%>' required>
            <div class='valid-feedback'>
              Looks good!
            </div>
        </div>
      </div>

      <div class='mb-3'>
        <label class='form-label' for='description'>Description</label>
        <textarea class='form-control' name='campground[description]' id='description' required><%=campground.description%></textarea>
        <div class='valid-feedback'>
          Looks good!
        </div>
      </div>

      <div class='mb-3'>
        <label for='files' class='form-label'> Add Images</label>
        <input class='form-control' type='file' id='files' name='image' multiple >
      </div>

      <hr class='my-4'>
      
      <div class='mb-3 text-center'>
        <div class='row'>
        <% campground.images.forEach((img, i) => { %>
          <div class='col-12 col-xl-6 d-flex mb-3 justify-content-center'>

            <div>
              <img src='<%= img.thumbnail %>' class='img-thumbnail' alt=''>
              <label for='image-<%= i %>'>
                <div class='form-check-inline'>
                  <input type='checkbox' id='image-<%= i %>' name='deleteImages[]' value='<%= img.filename %>'>
                </div>
                Delete?
              </label>
            </div>

          </div>
        <% }) %>
        </div>
      </div>

      <hr class='my-4'>

      <div class='d-grid mb-3'>
        <button class='btn btn-success'>Update Campground</button>
      </div>
    </form>
    <div class='text-center'>
    <a href='/campgrounds/<%= campground._id %>' class='btn btn-primary'>Back to Campground</a>
    </div>
  </div>
</div>
</div>